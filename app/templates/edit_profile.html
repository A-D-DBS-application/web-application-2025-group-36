{% extends "base.html" %}
{% block content %}

<div style="max-width: 40rem; margin: 0 auto;">

  <h1 style="text-align: center; margin-bottom: 2rem;">
    Edit Your Profile
  </h1>

  <div class="paper-grid-card">
    <div class="paper-card-body">

      <form method="post">

        <div style="margin-bottom: 1.5rem;">
          <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--accent);">Name</label>
          <input type="text" name="name" value="{{ user.name }}" class="form-control" required>
        </div>

        <div style="margin-bottom: 1.5rem;">
          <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--accent);">Email</label>
          <input type="email" name="email" value="{{ user.email }}" class="form-control" required>
        </div>


        {% if user.role == "Company" %}

        <div style="margin-top: 2rem;">
          <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--accent);">
            Company Interests
          </label>

          <p style="font-size: 0.9rem; color: var(--text-muted); margin-bottom: 1rem;">
            Select the research domains your company is interested in. 
            Papers from these domains will be recommended to you.
          </p>

          <div class="checkbox-grid">
            {% for tag in interest_tags %}
              <label class="checkbox-card">
                <input 
                  type="checkbox" 
                  name="interests" 
                  value="{{ tag }}" 
                  {% if tag in company_interests %}checked{% endif %}
                >
                <span style="font-size: 0.9rem; font-weight: 500; color: var(--text-main);">
                  {{ tag }}
                </span>
              </label>
            {% endfor %}
          </div>
        </div>

        {% endif %}

        <div class="form-actions">
          <a href="{{ url_for('main.profile') }}" class="btn btn-secondary">
            Cancel
          </a>

          <button type="submit" class="btn btn-primary">
            Save Changes
          </button>
        </div>

      </form>

    </div>
  </div>

</div>

{% endblock %}